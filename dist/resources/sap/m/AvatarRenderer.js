/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/security/encodeCSS"],function(a,e){"use strict";var t=a.AvatarSize;var s=a.AvatarType;var r=a.AvatarColor;var l=Object.keys(r).filter(function(a){return a.indexOf("Accent")!==-1});var n={apiVersion:2};n.render=function(a,r){var l=r.getInitials(),i=r._getActualDisplayType(),o=r._getImageFallbackType(),c=r.getDisplaySize(),p=r.getDisplayShape(),g=r.getImageFitType(),d=r.getCustomDisplaySize(),u=r.getCustomFontSize(),f=r.getSrc(),y="sapFAvatar",b=r.getTooltip_AsString(),S=r._getDefaultTooltip(),v=r.getAriaLabelledBy(),C=r.getAriaDescribedBy(),m=b&&l?S+" "+b:S,h=l?S+" "+l:S;a.openStart("span",r);a.class(y);n.addBackgroundColorClass(a,r);a.class(y+c);a.class(y+i);a.class(y+p);if(r.hasListeners("press")){a.class("sapMPointer");a.class(y+"Focusable");a.attr("role","button");a.attr("tabindex",0)}else{a.attr("role","img")}if(r.getShowBorder()){a.class("sapFAvatarBorder")}if(c===t.Custom){a.style("width",d);a.style("height",d);a.style("font-size",u)}if(b){a.attr("title",b);a.attr("aria-label",m)}else{a.attr("aria-label",h)}if(v&&v.length>0){a.attr("aria-labelledby",v.join(" "))}if(C&&C.length>0){a.attr("aria-describedby",C.join(" "))}a.openEnd();if(i===s.Icon||o===s.Icon){a.renderControl(r._getIcon())}else if(i===s.Initials||o===s.Initials){a.openStart("span");a.class(y+"InitialsHolder");a.openEnd();a.text(l);a.close("span")}if(i===s.Image){a.openStart("span");a.class(y+"ImageHolder");a.class(y+i+g);a.style("background-image","url('"+e(f)+"')");a.openEnd();a.close("span")}if(r._fnLightBoxOpen){a.openStart("span").class(y+"MagnifyingGlass").openEnd().close("span")}a.close("span")};n.addBackgroundColorClass=function(a,e){var t=e.getBackgroundColor();if(e.getBackgroundColor()===r.Random){t=r[l[l.length*Math.random()<<0]]}a.class("sapFAvatarColor"+t)};return n},true);